# Sert Tutorial

## Connecting to Sert

The first step for submiting the job is to connect to the remote server.
This can be done in several ways depending on where you are.
Normally you find yourself out of the intranet network so you have to connect to a gateway.
This can be done with the following command where you replace *username* by your particular username.

```bash
ssh username@gw.ac.upc.edu
```

When you enter to the server you will find yourself in the gateway.
In order to move your scrach directory you will need to first discover in which partition of the disc it is.
New accounts ususally are on the 4 partition.
The following command can be run to move to your scratch area by replacing *username* with your username and *num* with the partition.

```bash
cd /scratch/nas/num/username
```

## Submiting a job to Sert

Sert works with a job system where you request the server to run a script.
You have to follow the following steps for each execution:
1. Write the script to run
2. Submit the job to the queue
3. Wait for the job to finish
4. You can now read the results generated by your script

We are going to make a simple example of this process.
We first write the script.
Due to only being connected through a terminal we need to use a terminal editor to write the script.
For begginer users it is recomended to use the command:

```bash
nano example_script.sh
```

For user with proficiency on more advanced editors like VIM, they can be used.

```bash
vim example_script.sh
```

Our example script will simply display a message on *stdout*.
The script for doing it, would be the following.

```bash
#!/bin/bash

#SBATCH --chdir=/scratch/nas/num/username
#SBATCH --job-name="test_job"
#SBATCH --output=/scratch/nas/num/username/stdout-%j.out
#SBATCH --error=/scratch/nas/num/username/stderr-%j.out

echo "Hello from the job"
```

Now that our script is written we only need to put it in the queue.
This is done through the *sbatch* command.
In our example this can be done with:

```bash
sbatch example_script.sh
```

Once the job is submited you can visualize all you current jobs with:

```bash
squeue -u username
```
